"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const createHistoryEnhancer = require('farce/lib/createHistoryEnhancer');
const createMatchEnhancer = require('found/lib/createMatchEnhancer');
const foundReducer = require('found/lib/foundReducer');
const Matcher = require('found/lib/Matcher');
const combineReducers_1 = require("redux/lib/combineReducers");
const compose_1 = require("redux/lib/compose");
const createStore_1 = require("redux/lib/createStore");
const App_1 = require("./App");
function genStore(historyProtocol, preloadedState) {
    return createStore_1.default(combineReducers_1.default({ found: foundReducer }), preloadedState, compose_1.default(createHistoryEnhancer({
        protocol: historyProtocol,
        middleware: App_1.historyMiddlewares,
    }), createMatchEnhancer(new Matcher(App_1.routeConfig))));
}
exports.default = genStore;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuU3RvcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ2VuU3RvcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxNQUFNLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFBO0FBRXhFLE1BQU0sbUJBQW1CLEdBQUcsT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQUE7QUFDcEUsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUE7QUFDdEQsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFFNUMsK0RBQXVEO0FBQ3ZELCtDQUF1QztBQUN2Qyx1REFBK0M7QUFHL0MsK0JBQXVEO0FBR3ZELGtCQUFpQyxlQUFlLEVBQUUsY0FBZTtJQUNoRSxNQUFNLENBQUMscUJBQVcsQ0FDakIseUJBQWUsQ0FBQyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUN4QyxjQUFjLEVBQ2QsaUJBQU8sQ0FDTixxQkFBcUIsQ0FBQztRQUNyQixRQUFRLEVBQUUsZUFBZTtRQUN6QixVQUFVLEVBQUUsd0JBQWtCO0tBQzlCLENBQUMsRUFDRixtQkFBbUIsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxpQkFBVyxDQUFDLENBQUMsQ0FDN0MsQ0FDRCxDQUFBO0FBQ0YsQ0FBQztBQVpELDJCQVlDIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBjcmVhdGVIaXN0b3J5RW5oYW5jZXIgPSByZXF1aXJlKCdmYXJjZS9saWIvY3JlYXRlSGlzdG9yeUVuaGFuY2VyJylcblxuY29uc3QgY3JlYXRlTWF0Y2hFbmhhbmNlciA9IHJlcXVpcmUoJ2ZvdW5kL2xpYi9jcmVhdGVNYXRjaEVuaGFuY2VyJylcbmNvbnN0IGZvdW5kUmVkdWNlciA9IHJlcXVpcmUoJ2ZvdW5kL2xpYi9mb3VuZFJlZHVjZXInKVxuY29uc3QgTWF0Y2hlciA9IHJlcXVpcmUoJ2ZvdW5kL2xpYi9NYXRjaGVyJylcblxuaW1wb3J0IGNvbWJpbmVSZWR1Y2VycyBmcm9tICdyZWR1eC9saWIvY29tYmluZVJlZHVjZXJzJ1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAncmVkdXgvbGliL2NvbXBvc2UnXG5pbXBvcnQgY3JlYXRlU3RvcmUgZnJvbSAncmVkdXgvbGliL2NyZWF0ZVN0b3JlJ1xuXG5cbmltcG9ydCB7IGhpc3RvcnlNaWRkbGV3YXJlcywgcm91dGVDb25maWcgfSBmcm9tICcuL0FwcCdcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5TdG9yZShoaXN0b3J5UHJvdG9jb2wsIHByZWxvYWRlZFN0YXRlPykge1xuXHRyZXR1cm4gY3JlYXRlU3RvcmUoXG5cdFx0Y29tYmluZVJlZHVjZXJzKHsgZm91bmQ6IGZvdW5kUmVkdWNlciB9KSxcblx0XHRwcmVsb2FkZWRTdGF0ZSxcblx0XHRjb21wb3NlKFxuXHRcdFx0Y3JlYXRlSGlzdG9yeUVuaGFuY2VyKHtcblx0XHRcdFx0cHJvdG9jb2w6IGhpc3RvcnlQcm90b2NvbCxcblx0XHRcdFx0bWlkZGxld2FyZTogaGlzdG9yeU1pZGRsZXdhcmVzLFxuXHRcdFx0fSksXG5cdFx0XHRjcmVhdGVNYXRjaEVuaGFuY2VyKG5ldyBNYXRjaGVyKHJvdXRlQ29uZmlnKSksXG5cdFx0KSxcblx0KVxufVxuIl19